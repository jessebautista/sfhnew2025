---
import Base from '../../layouts/Base.astro';
import Hero from '../../components/Hero.astro';
import ProgramHighlights from '../../components/ProgramHighlights.astro';
import NewsSection from '../../components/NewsSection.astro';
import CallToAction from '../../components/CallToAction.astro';
import { getLanguageFromURL, loadTranslations } from '../../lib/i18n';

// Load translations once for this page
const currentLang = getLanguageFromURL(Astro.url.pathname);
const translations = await loadTranslations(currentLang);
---

<Base
  title="Sing for Hope - فن للجميع"
  description="تستخدم Sing for Hope قوة الفنون لخلق عالم أفضل. اكتشف برامجنا: بيانو Sing for Hope، التعليم، الصحة العامة والرفاهية، الدبلوماسية الفنية، وتطوير القوى العاملة."
>
  <Hero />
  <ProgramHighlights currentLang={currentLang} translations={translations} />
  <NewsSection currentLang={currentLang} translations={translations} />
  <CallToAction currentLang={currentLang} translations={translations} />
</Base>