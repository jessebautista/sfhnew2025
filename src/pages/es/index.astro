---
import Base from '../../layouts/Base.astro';
import Hero from '../../components/Hero.astro';
import ProgramHighlights from '../../components/ProgramHighlights.astro';
import NewsSection from '../../components/NewsSection.astro';
import CallToAction from '../../components/CallToAction.astro';
import { getLanguageFromURL, loadTranslations } from '../../lib/i18n';

// Load translations once for this page
const currentLang = getLanguageFromURL(Astro.url.pathname);
const translations = await loadTranslations(currentLang);
---

<Base
  title="Sing for Hope - Arte para Todos"
  description="Sing for Hope aprovecha el poder de las artes para crear un mundo mejor. Descubre nuestros programas: Pianos Sing for Hope, Educación, Salud Pública y Bienestar, Diplomacia Artística y Desarrollo de la Fuerza Laboral."
>
  <Hero />
  <ProgramHighlights currentLang={currentLang} translations={translations} />
  <NewsSection currentLang={currentLang} translations={translations} />
  <CallToAction currentLang={currentLang} translations={translations} />
</Base>