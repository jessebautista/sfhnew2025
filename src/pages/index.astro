---
import Base from '../layouts/Base.astro';
import Hero from '../components/Hero.astro';
import ProgramHighlights from '../components/ProgramHighlights.astro';
import NewsSection from '../components/NewsSection.astro';
import CallToAction from '../components/CallToAction.astro';
import { getLanguageFromURL, loadTranslations } from '../lib/i18n';

// Load translations once for this page
const currentLang = getLanguageFromURL(Astro.url.pathname);
const translations = await loadTranslations(currentLang);
---

<Base
  title="Sing for Hope - Art for All"
  description="Sing for Hope harnesses the power of the arts to create a better world. Discover our programs: Sing for Hope Pianos, Education, Public Health & Wellness, Arts Diplomacy, and Workforce Development."
>
  <Hero />
  <ProgramHighlights currentLang={currentLang} translations={translations} />
  <NewsSection currentLang={currentLang} translations={translations} />
  <CallToAction currentLang={currentLang} translations={translations} />
</Base>
