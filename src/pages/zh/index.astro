---
import Base from '../../layouts/Base.astro';
import Hero from '../../components/Hero.astro';
import ProgramHighlights from '../../components/ProgramHighlights.astro';
import NewsSection from '../../components/NewsSection.astro';
import CallToAction from '../../components/CallToAction.astro';
import { getLanguageFromURL, loadTranslations } from '../../lib/i18n';

// Load translations once for this page
const currentLang = getLanguageFromURL(Astro.url.pathname);
const translations = await loadTranslations(currentLang);
---

<Base
  title="Sing for Hope - 全民艺术"
  description="Sing for Hope 利用艺术的力量创造更美好的世界。发现我们的项目：Sing for Hope 钢琴、教育、公共健康与福祉、艺术外交和劳动力发展。"
>
  <Hero />
  <ProgramHighlights currentLang={currentLang} translations={translations} />
  <NewsSection currentLang={currentLang} translations={translations} />
  <CallToAction currentLang={currentLang} translations={translations} />
</Base>